SET search_path TO 'main';

CREATE TABLE IF NOT EXISTS CODE_NAME (
  CODE_ID CHAR(8) NOT NULL,
  CODE_VALUE VARCHAR(2) NOT NULL,
  LANG CHAR(2) NOT NULL,
  SORT_ORDER SMALLINT NOT NULL,
  CODE_NAME VARCHAR(50) NOT NULL,
  SHORT_NAME VARCHAR(50),
  OPTION01 VARCHAR(50),
  OPTION02 VARCHAR(50),
  OPTION03 VARCHAR(50),
  OPTION04 VARCHAR(50),
  OPTION05 VARCHAR(50),
  OPTION06 VARCHAR(50),
  OPTION07 VARCHAR(50),
  OPTION08 VARCHAR(50),
  OPTION09 VARCHAR(50),
  OPTION10 VARCHAR(50),
  PRIMARY KEY (CODE_ID, CODE_VALUE, LANG)
);
COMMENT ON table CODE_NAME;
COMMENT ON column CODE_NAME.CODE_ID;
COMMENT ON column CODE_NAME.CODE_VALUE;
COMMENT ON column CODE_NAME.LANG;
COMMENT ON column CODE_NAME.SORT_ORDER;
COMMENT ON column CODE_NAME.CODE_NAME;
COMMENT ON column CODE_NAME.SHORT_NAME;
COMMENT ON column CODE_NAME.OPTION01;
COMMENT ON column CODE_NAME.OPTION02;
COMMENT ON column CODE_NAME.OPTION03;
COMMENT ON column CODE_NAME.OPTION04;
COMMENT ON column CODE_NAME.OPTION05;
COMMENT ON column CODE_NAME.OPTION06;
COMMENT ON column CODE_NAME.OPTION07;
COMMENT ON column CODE_NAME.OPTION08;
COMMENT ON column CODE_NAME.OPTION09;
COMMENT ON column CODE_NAME.OPTION10;
CREATE TABLE IF NOT EXISTS CODE_PATTERN (
  CODE_ID CHAR(8) NOT NULL,
  CODE_VALUE VARCHAR(2) NOT NULL,
  PATTERN01 CHAR(1) NOT NULL,
  PATTERN02 CHAR(1),
  PATTERN03 CHAR(1),
  PATTERN04 CHAR(1),
  PATTERN05 CHAR(1),
  PATTERN06 CHAR(1),
  PATTERN07 CHAR(1),
  PATTERN08 CHAR(1),
  PATTERN09 CHAR(1),
  PATTERN10 CHAR(1),
  PATTERN11 CHAR(1),
  PATTERN12 CHAR(1),
  PATTERN13 CHAR(1),
  PATTERN14 CHAR(1),
  PATTERN15 CHAR(1),
  PATTERN16 CHAR(1),
  PATTERN17 CHAR(1),
  PATTERN18 CHAR(1),
  PATTERN19 CHAR(1),
  PATTERN20 CHAR(1),
  PRIMARY KEY (CODE_ID, CODE_VALUE)
);
COMMENT ON table CODE_PATTERN;
COMMENT ON column CODE_PATTERN.CODE_ID;
COMMENT ON column CODE_PATTERN.CODE_VALUE;
COMMENT ON column CODE_PATTERN.PATTERN01;
COMMENT ON column CODE_PATTERN.PATTERN02;
COMMENT ON column CODE_PATTERN.PATTERN03;
COMMENT ON column CODE_PATTERN.PATTERN04;
COMMENT ON column CODE_PATTERN.PATTERN05;
COMMENT ON column CODE_PATTERN.PATTERN06;
COMMENT ON column CODE_PATTERN.PATTERN07;
COMMENT ON column CODE_PATTERN.PATTERN08;
COMMENT ON column CODE_PATTERN.PATTERN09;
COMMENT ON column CODE_PATTERN.PATTERN10;
COMMENT ON column CODE_PATTERN.PATTERN11;
COMMENT ON column CODE_PATTERN.PATTERN12;
COMMENT ON column CODE_PATTERN.PATTERN13;
COMMENT ON column CODE_PATTERN.PATTERN14;
COMMENT ON column CODE_PATTERN.PATTERN15;
COMMENT ON column CODE_PATTERN.PATTERN16;
COMMENT ON column CODE_PATTERN.PATTERN17;
COMMENT ON column CODE_PATTERN.PATTERN18;
COMMENT ON column CODE_PATTERN.PATTERN19;
COMMENT ON column CODE_PATTERN.PATTERN20;
CREATE TABLE IF NOT EXISTS USER_SESSION (
  SESSION_ID VARCHAR(100) NOT NULL,
  SESSION_OBJECT BYTEA NOT NULL,
  EXPIRATION_DATETIME TIMESTAMP NOT NULL,
  PRIMARY KEY (SESSION_ID)
);
COMMENT ON table USER_SESSION;
COMMENT ON column USER_SESSION.SESSION_ID;
COMMENT ON column USER_SESSION.SESSION_OBJECT;
COMMENT ON column USER_SESSION.EXPIRATION_DATETIME;
ALTER TABLE CODE_NAME
ADD 
FOREIGN KEY (
  CODE_ID,
  CODE_VALUE
) REFERENCES CODE_PATTERN (
  CODE_ID,
  CODE_VALUE
);

DELETE FROM CODE_NAME;
DELETE FROM CODE_PATTERN;


INSERT INTO CODE_PATTERN(CODE_ID, CODE_VALUE, PATTERN01, PATTERN02, PATTERN03, PATTERN04, PATTERN05, PATTERN06, PATTERN07, PATTERN08, PATTERN09, PATTERN10, PATTERN11, PATTERN12, PATTERN13, PATTERN14, PATTERN15, PATTERN16, PATTERN17, PATTERN18, PATTERN19, PATTERN20) VALUES('C0000001', '0', '1', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '');
INSERT INTO CODE_PATTERN(CODE_ID, CODE_VALUE, PATTERN01, PATTERN02, PATTERN03, PATTERN04, PATTERN05, PATTERN06, PATTERN07, PATTERN08, PATTERN09, PATTERN10, PATTERN11, PATTERN12, PATTERN13, PATTERN14, PATTERN15, PATTERN16, PATTERN17, PATTERN18, PATTERN19, PATTERN20) VALUES('C0000001', '1', '1', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '');

INSERT INTO CODE_NAME(CODE_ID, CODE_VALUE, LANG, SORT_ORDER, CODE_NAME, SHORT_NAME, OPTION01, OPTION02, OPTION03, OPTION04, OPTION05, OPTION06, OPTION07, OPTION08, OPTION09, OPTION10) VALUES('C0000001', '0', 'ja', '1', 'アンロック', 'アンロック', '-', '', '', '', '', '', '', '', '', '');
INSERT INTO CODE_NAME(CODE_ID, CODE_VALUE, LANG, SORT_ORDER, CODE_NAME, SHORT_NAME, OPTION01, OPTION02, OPTION03, OPTION04, OPTION05, OPTION06, OPTION07, OPTION08, OPTION09, OPTION10) VALUES('C0000001', '1', 'ja', '2', 'ロック', 'ロック', '-', '', '', '', '', '', '', '', '', '');


commit;